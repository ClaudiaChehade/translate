<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Camera Calib Guideline - wave 3 development</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

    </head>

<body pageid="2458153956">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">wave3</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="2458153956_PER.html" class="ht-space-link">
                    <h2>wave 3 development</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=2514784177"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="2458153956_PER.html">wave 3 development</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="1741913013_Map_and_Loc.html">Map and Loc</a></li>
                                                                                                         <li class="shortcut"><a href="2453670978_03_Calibration.html">03_Calibration</a></li>
                                                                                                         <li class="shortcut"><a href="2515113871_09_Release.html">09 Release</a></li>
                                                                                                         <li class="shortcut"><a href="2515113873_xcalib_eng.html">xcalib_eng</a></li>
                                                                                     <li><a href="2916353596_calibration_tool_release.html">calibration_tool_release</a></li>
                                                            </ul>
</div>            <h1 id="src-2514784177"> <span>Camera Calib Guideline</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

<p   
>    <span style="color: #ff0000;">
<strong class=" "> 2023.4.3 Update </strong>    </span>
</p>
    <div class="section section-1" id="src-2514784177_safe-id-Q2FtZXJhQ2FsaWJHdWlkZWxpbmUtU3RlcDEu6aKE5aSH5bel5L2c">
        <h1 class="heading "><span> Step1. Preparatory work </span></h1>
<p   
>    <span style="color: #000000;"> Install dependency library </span>
</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="functions">sudo</code><code class="plain"> apt-get </code><code class="functions">install</code><code class="plain"> libgoogle-glog-dev</code></div>
<div class="line"><code class="functions">sudo</code><code class="plain"> apt-get </code><code class="functions">install</code><code class="plain"> libcholmod3</code></div>
<div class="line"><code class="functions">sudo</code><code class="plain"> apt-get </code><code class="functions">install</code><code class="plain"> libcxsparse3</code></div>
</div>
    </div>
<p   
> Executable permissions </p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="functions">chmod</code><code class="plain"> 777 bin</code><code class="plain">/camera_calib_main</code><code class="plain"> bin</code><code class="plain">/test_calibration</code><code class="plain"> bin</code><code class="plain">/test_pipeline</code></div>
</div>
    </div>
<p   
> Configuration path </p>
<p   
>    <span style="color: #000000;"> Configure run_all_flexible_camera.py <strong class=" ">    <span style="color: #0000ff;"> Main program path </span>
</strong>、<strong class=" ">    <span style="color: #0000ff;"> Enter the picture and parameter path </span>
</strong>、<strong class=" ">    <span style="color: #0000ff;"> Output result path </span>
</strong>    </span>
</p>
    </div>
    <div class="section section-1" id="src-2514784177_safe-id-Q2FtZXJhQ2FsaWJHdWlkZWxpbmUtU3RlcDIu5pWw5o2u6YeH6ZuG5ZKM5qCH5a6a">
        <h1 class="heading "><span> Step2. Data collection and calibration </span></h1>
<p   
><strong class=" ">    <span style="color: #ff0000;"> The current vehicle is the first time </span>
</strong></p>
<p   
> Collecting 7 stops. Previously, as an example, the full -angle as an example, you need to provide FRONT_WIDE_01.JPG, Front_wide_02.jpg, Front_wide_03.jpg, Front_WIDE_04.jpg, Front_wide_05.jpg, Front_06.jpg, FRONT_W_W_W IDE_07.jpg </p>
<p   
> The first stop is needed on the posterior, and the number number of other stations is casual </p>
<p   
>    <span style="color: #172b4d;"> 1. Pictures of front -view wide -angle in each location: front_wide_01 ~ 7.jpg </span>
</p>
<p   
>    <span style="color: #172b4d;"> 2. Pictures of the front of the fish eye in each location: nrcs_front_01 ~ 7.jpg </span>
</p>
<p   
>    <span style="color: #172b4d;"> 3. Pictures of the left fish eye in each location: nrcs_left_01 ~ 7.jpg </span>
</p>
<p   
>    <span style="color: #172b4d;"> 4. Pictures of the right fish eye in each location: nrcs_right_01 ~ 7.jpg </span>
</p>
<p   
>    <span style="color: #172b4d;"> 5. Pictures of post -fish eyes in each location: nrcs_rear_01 ~ 7.jpg </span>
</p>
<p   
>    <span style="color: #172b4d;"> 6. Foreign long focus in each location picture: front_tele_01 ~ 7.jpg </span>
</p>
<p   
>    <span style="color: #172b4d;"> 7. Pictures of the left before the left week: front_left_01 ~ 7.jpg </span>
</p>
<p   
>    <span style="color: #172b4d;"> 8. Performance on the right front week at all positions: FRONT_RIGHT_01 ~ 7.jpg </span>
</p>
<p   
>    <span style="color: #172b4d;"> 9. Pictures of the left after the left week: rear_left_01 ~ 7.jpg </span>
</p>
<p   
>    <span style="color: #172b4d;"> 10. Right Week Vision of the picture in each location: rear_ritt_01 ~ 7.jpg </span>
</p>
<p   
>    <span style="color: #172b4d;"> 11. Later viewing pictures in each location: REAR_01 ~ 7.JPG </span>
</p>
<p   
>    <span style="color: #000000;"> Put the picture in the call_allxible_camera.py directory in the run_all_flexible_camera.py, and then run the calibration </span>
</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">python3 run_all_flexible_camera.py</code></div>
</div>
    </div>
<p   
>    <span style="color: #000000;"> The parameter configuration at runtime is as follows. Camera_num and car_id, please fill in the actual actual </span>
</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">how many cameras(11</code><code class="plain">/14</code><code class="plain">): 11  </code></div>
<div class="line"><code class="plain">vel_num: 7  </code></div>
<div class="line"><code class="plain">car_id: 10167C  </code></div>
<div class="line"><code class="plain">fix intrinsic(y</code><code class="plain">/n</code><code class="plain">): n  </code></div>
</div>
    </div>
<p   
><strong class=" ">    <span style="color: #3366ff;"> If the calibration program is abnormally interrupted, please check it yourself first <span style="color: #ff0000;"> Marked red </span> The error information, check whether the data passed in is error; if the following errors are reported, you can run a few more times to try </span>
</strong></p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">fail to initialize intrinsic, please retry or give initial intrinsic by manual</code></div>
</div>
    </div>
<p   
> If you still cannot complete it if you run 3-5 times, please contact the calibration group to solve </p>
<p   
> After the calibration is completed, the calibration result is also stored in a copy of the car number. See the file name and location below </p>
<p   
><br/></p>
<p   
>    <span style="color: #000000;">
<strong class=" ">    <span style="color: #ff0000;"> The current vehicle is not the first time </span>
</strong>    </span>
</p>
<p   
> Collect 1 stop data, the vehicle is located on the positive device, and the internal reference yaml file that is passed into multiple stations. </p>
<p   
><img  class="confluence-embedded-image"  src="images/confluence/download/attachments/2514784177/2023-04-03_14h57_34-version-1-modificationdate-1680505061000-api-v2.png" alt="images/confluence/download/attachments/2514784177/2023-04-03_14h57_34-version-1-modificationdate-1680505061000-api-v2.png"  height="250" />
    </p>
<p   
>    <span style="color: #172b4d;"> 1. The picture and the multi -stop YAML: FRONT_WIDE_01.JPG Front_wide.yaml </span>
</p>
<p   
>    <span style="color: #172b4d;"> 2. Pictures and multi -stations YAML on the posterior fish eye: nrcs_front_01.jpg nrcs_front.yaml </span>
</p>
<p   
>    <span style="color: #172b4d;"> 3. Pictures and multi -stood YAML on the left fish eye: nrcs_left_01.jpg nrcs_left.yaml </span>
</p>
<p   
>    <span style="color: #172b4d;"> 4. Pictures and multi -stop YAML on the right fish eye: nrcs_right_01.jpg NRCS_RIGHT.YAML </span>
</p>
<p   
>    <span style="color: #172b4d;"> 5. The pictures and multi -stop YAML: nrcs_rear_01.jpg nrcs_rear.yaml </span>
</p>
<p   
>    <span style="color: #172b4d;"> 6. The picture of the foresight long focus on the positive and multi -stop YAML: Front_Tele_01.jpg Front_Tele.yaml </span>
</p>
<p   
>    <span style="color: #172b4d;"> 7. The picture and the multi -stop YAML: FRONT_LEFT_01.jpg FRONT_LEFT.YAML </span>
</p>
<p   
>    <span style="color: #172b4d;"> 8. The picture and multi -stop YAML on the right front week: front_right_01.jpg from_right.yaml </span>
</p>
<p   
>    <span style="color: #172b4d;"> 9. The picture and multi -stop YAML on the left after the left week: rear_left_01.jpg rear_left.yaml </span>
</p>
<p   
>    <span style="color: #172b4d;"> 10. The picture and multi -stop YAML on the right weekly viewer: rear_right_01.jpg rear_right.yaml </span>
</p>
<p   
>    <span style="color: #172b4d;"> 11. The picture and the multi -stop yaml on the posterior viewer: rear_01.jpg rear.yaml </span>
</p>
<p   
><br/></p>
<p   
>    <span style="color: #000000;"> The input file is placed in the call_allxible_camera.py directory in the run_all_flexible_camera.py, and then runs the calibration calibration </span>
</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">python3 run_all_flexible_camera.py</code></div>
</div>
    </div>
<p   
>    <span style="color: #000000;"> The parameter configuration at runtime is as follows. Camera_num and car_id, please fill in the actual actual </span>
</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">how many cameras(11</code><code class="plain">/14</code><code class="plain">): 11  </code></div>
<div class="line"><code class="plain">vel_num: 1  </code></div>
<div class="line"><code class="plain">car_id: 10167C  </code></div>
<div class="line"><code class="plain">fix intrinsic(y</code><code class="plain">/n</code><code class="plain">): y  </code></div>
</div>
    </div>
<p   
><br/></p>
    </div>
    <div class="section section-1" id="src-2514784177_safe-id-Q2FtZXJhQ2FsaWJHdWlkZWxpbmUtU3RlcDQu57uT5p6c6L6T5Ye6">
        <h1 class="heading "><span> Step4. Results output </span></h1>
<ol class=" "><li class=" "><p   
> The calibration result is output in the output_path directory set in the run_all_flexible_camera.py script </p>
</li><li class=" "><p   
> Copy the contents in the folder to the public disk as the calibration result </p>
</li></ol>    </div>
    <div class="section section-1" id="src-2514784177_safe-id-Q2FtZXJhQ2FsaWJHdWlkZWxpbmUtU3RlcDUu57uT5p6c6aqM6K-B">
        <h1 class="heading "><span> Step5. Result verification </span></h1>
<ol class=" "><li class=" "><p   
> View the projection of point clouds to images. For the specific method, please refer to: <a   href="2514784167_Lidar_Calib_Guideline.html">Lidar Calib Guideline - wave 3 development - Docupedia (bosch.com)</a></p>
</li><li class=" "><p   
> Check out the output bev image to see if alignment is aligned </p>
</li></ol><p   
><br/></p>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="2916353596_calibration_tool_release.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>calibration_tool_release</span>
        </a>
                <a href="2514784167_Lidar_Calib_Guideline.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Lidar Calib Guideline</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>


    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
