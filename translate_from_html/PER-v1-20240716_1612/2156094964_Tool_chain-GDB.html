<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Tool chain-GDB - wave 3 development</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

    </head>

<body pageid="2458153956">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">wave3</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="2458153956_PER.html" class="ht-space-link">
                    <h2>wave 3 development</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=2156094964"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="2458153956_PER.html">wave 3 development</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="1741913005_Perception_and_Fusion.html">Perception and Fusion</a></li>
                                                                                     <li><a href="2040895221_Image_Chain_System_Architecture.html">Image Chain System Architecture</a></li>
                                                            </ul>
</div>            <h1 id="src-2156094964"> <span>Tool chain-GDB</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

<ul class=" "><li class=" "><p   
>About</p>
</li><li class=" "><p   
>Definition</p>
</li><li class=" "><p   
>How to product dump.core</p>
</li><li class=" "><p   
>Example</p>
</li></ul><p   
><br/></p>
<p   
><br/></p>
    <div class="section section-1" id="src-2156094964_ToolchainGDB-1.about">
        <h1 class="heading "><span>1.about</span></h1>
<p   
>    <span style="color: #000000;"> Use GDB to perform Debug and Segmentation Fault positioning of NV platform Code </span>
</p>
    </div>
    <div class="section section-1" id="src-2156094964_ToolchainGDB-2.definition">
        <h1 class="heading "><span>2.definition</span></h1>
<p   
>    <span style="color: #000000;"> GDB (GNU Debugger) is a powerful debugging tool under Unix and Unix-Like. You can debug ADA, C, C ++, ASM, Minimal, D, Fortran, Objective-C, GO, Java, Pascal and other languages. </span>
</p>
<p   
>    <span style="color: #000000;"> In general, the following functions can be achieved with the help of the GDB debugger: </span>
</p>
<p   
>    <span style="color: #000000;"> When the program starts, you can run the program according to our custom requirements, such as setting parameters and environment variables; </span>
</p>
<p   
>    <span style="color: #000000;"> The debugging program can be paused at the specified code, and the running status of the current program (such as the value of the current variable, the execution result of the function, etc.), that is, support the breakpoint debugging; </span>
</p>
<p   
>    <span style="color: #000000;"> During the program execution process, the value of a certain variable can be changed, and the execution order of the code can be changed to try to modify the logic errors in the program </span>
</p>
<p   
>    <span style="color: #000000;"> For C programs, you need to add -g parameters during compilation to retain debugging information. Otherwise, you cannot use GDB for debugging. You can use it </span>
</p>
<p   
>    <span style="color: #000000;">
<i class=" ">$gdb helloword</i>    </span>
</p>
<p   
>    <span style="color: #000000;"> Let's test whether the HelloOWORD file has debug information. </span>
</p>
<p   
>    <span style="color: #000000;"> GDB debugging tools have been supported on the NV development board, and you can download it by yourself.The GDB process of normal Step by Step is no different from other platforms. This article mainly introduces how to use dump.core to debug when the common segmentation fault has errors appears in the NV platform. </span>
</p>
    </div>
    <div class="section section-1" id="src-2156094964_ToolchainGDB-3.Howtoproductdump.core">
        <h1 class="heading "><span>3.How to product dump.core</span></h1>
    <div class="section section-2" id="src-2156094964_safe-id-VG9vbGNoYWluR0RCLTMuMeaMh-WummNvcmXmlofku7bnlJ_miJDnmoTkvY3nva4">
        <h2 class="heading "><span> 3.1 Specify the location of the Core file </span></h2>
<p   
>    <span style="color: #000000;"> You can specify the position of the Core file generated by modifying the/proc/sys/kernel/core_pattern. </span>
</p>
<p   
>    <span style="color: #000000;"> When I checked the core_pattern file, I found that it did specify a path, so I went to that path and found that it was a script program. Later, I checked the instruction file. </span>
</p>
<p   
>    <span style="color: #000000;"> The generated Core file is transmitted to the scripts followed by it.Therefore, you need to change the specified position generated by dump.core. </span>
</p>
<p   
>    <span style="color: #000000;"> Through command: </span>
</p>
<p   
>    <span style="color: #000000;">
<i class=" ">$sudo bash -c "echo /home/nvidia/temp_test/core.%e > /proc/sys/kernel/core_pattern "</i>    </span>
</p>
<p   
>    <span style="color: #000000;"> Let's specify the production position of the dump.core file. </span>
</p>
    </div>
    <div class="section section-2" id="src-2156094964_safe-id-VG9vbGNoYWluR0RCLTMuMkdEQuaWh-S7tuW3peWFtw">
        <h2 class="heading "><span> 3.2 GDB file tool </span></h2>
<p   
>    <span style="color: #000000;"> When using GDB for a DUMP.CORE file debug, a GDB binary file tool is required, which can be provided by NV.When using it, you need to copy it to the executable file and the same directory of dump.core. </span>
</p>
    </div>
    <div class="section section-2" id="src-2156094964_safe-id-VG9vbGNoYWluR0RCLTMuM-iuvue9rmNvcmXnmoTlpKflsI8">
        <h2 class="heading "><span> 3.3 Set the size of the core </span></h2>
<p   
>    <span style="color: #000000;"> pass <i class=" ">ulimit -a</i> Check the size of the current system settings.use <i class=" ">ulimit -c unlimited</i> Let's cancel the restrictions on the size of the core. </span>
</p>
    </div>
    <div class="section section-2" id="src-2156094964_safe-id-VG9vbGNoYWluR0RCLTMuNOeUn-aIkGR1bXAuY29yZQ">
        <h2 class="heading "><span> 3.4 Generate dump.core </span></h2>
<p   
>    <span style="color: #000000;"> When running executable files, when segmentation fault appears, the system will automatically generate dump.core files, such as core.a.out, and A.out is an executable file that currently occurs. </span>
</p>
<p   
>    <span style="color: #000000;"> Use command: </span>
</p>
<p   
><i class=" ">    <span style="color: #000000;">
$gdb a.out core.a.outã€‚    </span>
</i></p>
<p   
>    <span style="color: #000000;"> Enter the depbug entrance to view the stack call information. </span>
</p>
    </div>
    </div>
    <div class="section section-1" id="src-2156094964_ToolchainGDB-4.Example">
        <h1 class="heading "><span>4.Example</span></h1>
<p   
>    <span style="color: #000000;"> Use A.out for testing, and the binary file is an error example of a stack.The fun () of the Main function call is as follows: </span>
</p>
<p   
><i class=" ">    <span style="color: #000000;">
void func()    </span>
</i></p>
<p   
><i class=" ">    <span style="color: #000000;">
{    </span>
</i></p>
<p   
><i class=" ">    <span style="color: #000000;">
char *pstr="test_content";    </span>
</i></p>
<p   
><i class=" ">    <span style="color: #000000;">
free(pstr);    </span>
</i></p>
<p   
><i class=" ">    <span style="color: #000000;">
}    </span>
</i></p>
<p   
>    <span style="color: #000000;"> The compiler did not find logical errors, but Segmentation Fault errors occurred at runtime.As shown in the figure below, through the generated core, it can position the stack problem of the Func function in the main () function. </span>
</p>
<p   
><img  class="confluence-embedded-image"  src="images/confluence/download/attachments/2156094964/IMG_1312-version-1-modificationdate-1646385580000-api-v2.JPG" alt="images/confluence/download/attachments/2156094964/IMG_1312-version-1-modificationdate-1646385580000-api-v2.JPG"  height="400" />
    </p>
<p   
><br/></p>
<p   
><br/></p>
<p   
><br/></p>
<p   
><br/></p>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="2074189888_IMC__Nvidia_API_requirements.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>IMC::Nvidia API requirements</span>
        </a>
                <a href="2074391532_Camera_head.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Camera head</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>


    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
