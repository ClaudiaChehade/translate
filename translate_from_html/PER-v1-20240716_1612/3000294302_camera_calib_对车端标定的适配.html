<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> Support absolute path -Wave 3 Development </title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

    </head>

<body pageid="2458153956">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">wave3</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="2458153956_PER.html" class="ht-space-link">
                    <h2>wave 3 development</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=3000294302"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="2458153956_PER.html">wave 3 development</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="1741913013_Map_and_Loc.html">Map and Loc</a></li>
                                                                                                         <li class="shortcut"><a href="2453670978_03_Calibration.html">03_Calibration</a></li>
                                                                                                         <li class="shortcut"><a href="2515113871_09_Release.html">09 Release</a></li>
                                                                                                         <li class="shortcut"><a href="2515113873_xcalib_eng.html">xcalib_eng</a></li>
                                                                                                         <li class="shortcut"><a href="2916353596_calibration_tool_release.html">calibration_tool_release</a></li>
                                                                                     <li><a href="3012883315_V1.2.0.html">V1.2.0</a></li>
                                                            </ul>
</div>            <h1 id="src-3000294302"> <span> Support absolute path </span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

<p   
> From the perspective of executable input, the following parameters in config.yaml can simultaneously support the relative path and absolute path </p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">environment_model_path: </code><code class="string">"data_format/environment/all_points.txt"</code></div>
<div class="line"><code class="plain">apriltag_config: </code><code class="string">"config/common_param/apriltag_config.txt"</code></div>
<div class="line"><code class="plain">0_image_path_0: </code><code class="string">"data_format/calib_image/front_wide_01.jpg"</code></div>
<div class="line"><code class="plain">0_intrinsic: </code><code class="string">"data_format/calib_image/front_wide.yaml"</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">environment_model_path: </code><code class="string">"data_format/environment/all_points.txt"</code></div>
<div class="line"><code class="plain">apriltag_config: </code><code class="string">"config/common_param/apriltag_config.txt"</code></div>
<div class="line"><code class="plain">0_image_path_0: </code><code class="string">"/home/inz2szh/zhangyichi/xcalib-eng/calibration_tools/camera_calib/data_format/calib_image/front_wide_01.jpg"</code></div>
<div class="line"><code class="plain">0_intrinsic: </code><code class="string">"/home/inz2szh/zhangyichi/xcalib-eng/calibration_tools/camera_calib/data_format/calib_image/front_wide.yaml"</code></div>
</div>
    </div>
<p   
> If the path starts with "/", it is considered an absolute path. If it is not "/", it is considered to be a relative path. </p>
<p   
><br/></p>
<p   
> From the perspective of the camera calibration script, the updated script name is run_all_flexible_camera_with_param.py </p>
<p   
> We believe that the relative path of the environment_model_path and Apriltag_config and the total path of tools are fixed and write to death in the script. </p>
<p   
> For the input interface of 3 new paths: (1) calibration image path (2) 7 internal reference paths from 7 stations out of the marker [The second calibration starts to be available, for one station calibration] (3) output results directory </p>
<p   
> The discrimination rules of the relative path and the absolute path are the same as the above. If it is "/", it is the absolute path, otherwise the relative path </p>
<p   
> Supplementary description: </p>
<p   
> (1) The calibration picture path is specified to the folder (the path is finally with a slope). It contains all the calibration pictures, named Front_wide_0x.jpg, nrcs_front_0x.jpg (x is 1/2/3/4/...) </p>
<p   
> (2) The inner ginseng path is specified to the folder (the path is finally with a slope), which is the first time the calibration of the calibration vehicle. </p>
<p   
> (3) The result output folder (the path is finally with a slash) </p>
<p   
><img  class="confluence-embedded-image"  src="images/confluence/download/attachments/3000294302/2023-05-09_10h05_09-version-1-modificationdate-1683597928000-api-v2.png" alt="images/confluence/download/attachments/3000294302/2023-05-09_10h05_09-version-1-modificationdate-1683597928000-api-v2.png"  height="249" />
    </p>
<p   
> For the first 7 stations of each car, the running instruction format is as follows </p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">python3 run_all_flexible_camera_with_param.py -n </code><code class="value">14</code><code class="plain"> -v </code><code class="value">7</code><code class="plain"> -id 10816C -a </code><code class="value">2800</code><code class="plain"> -f n -p1 /home/inz2szh/zhangyichi/xcalib-eng/test_folder/input/image/ -o /home/inz2szh/zhangyichi/xcalib-eng/test_folder/output/</code></div>
</div>
    </div>
<p   
><br/></p>
<p   
> For the one -stop data after each car, the format of the running instructions is as follows </p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">python3 run_all_flexible_camera_with_param.py -n </code><code class="value">14</code><code class="plain"> -v </code><code class="value">1</code><code class="plain"> -id 10816C -a </code><code class="value">2800</code><code class="plain"> -f y -p1 /home/inz2szh/zhangyichi/xcalib-eng/test_folder/input/image/ -p2 /home/inz2szh/zhangyichi/xcalib-eng/test_folder/input/intrinsic/ -o /home/inz2szh/zhangyichi/xcalib-eng/test_folder/output/</code></div>
</div>
    </div>
<p   
><br/></p>
<p   
> The script that previously passed on in the program is still retained, and it can be used during the operation of this machine </p>
<p   
> Seven -stop example </p>
<p   
><img  class="confluence-embedded-image"  src="images/confluence/download/attachments/3000294302/2023-05-10_14h54_57-version-1-modificationdate-1683701725000-api-v2.png" alt="images/confluence/download/attachments/3000294302/2023-05-10_14h54_57-version-1-modificationdate-1683701725000-api-v2.png"  height="110" />
    </p>
<p   
> One -stop example </p>
<p   
><img  class="confluence-embedded-image"  src="images/confluence/download/attachments/3000294302/2023-05-10_14h53_14-version-1-modificationdate-1683701634000-api-v2.png" alt="images/confluence/download/attachments/3000294302/2023-05-10_14h53_14-version-1-modificationdate-1683701634000-api-v2.png"  height="111" />
    </p>
<p   
><br/></p>
    <div class="section section-1" id="src-3000294302_safe-id-Y2FtZXJhY2FsaWLlr7novabnq6_moIflrprnmoTpgILphY0tMjAyMy42Ljfmm7TmlrA">
        <h1 class="heading "><span> 2023.6.7 Update </span></h1>
<p   
>tr： <a   href="https://rb-tracker.bosch.com/tracker08/browse/CNWVIII-45758?src=confmacro">CNWVIII-45758</a> - Jira issue doesn't exist or you don't have permission to view it.</p>
<p   
>commit：<a  class="external-link" href="https://sourcecode01.de.bosch.com/projects/PJW3/repos/w3_eng_calib_tools/commits/2fd58164766bf3fc35c1f2ce764512b61b235cf1">2fd58164766</a></p>
<p   
> Movement items: KB8 model of the fish eye camera synchronized when calibration </p>
<p   
> Precautions: </p>
<p   
> (1) When the 7 stop and the 1st stop are fixed, there is no need to make any changes in the input </p>
<p   
> (2) After the calibration is over, there will be four more NRCS _*. Yaml under the KB8 folder </p>
<p   
> (3) Because one stop calibration needs to be introduced into the previous calibration results, it must be only the nrcs _*. Yaml in the OCAM folder as before. Since the KB8 folder output from 7 stops now there will be files with the same name.Be careful not to make mistakes </p>
<p   
> (4) Taking the configuration of 11 cameras as an example, the output of 7 stops and 1 stop is as follows </p>
<p   
><img  class="confluence-embedded-image"  src="images/confluence/download/attachments/3000294302/2023-06-07_17h10_22-version-2-modificationdate-1686129301000-api-v2.png" alt="images/confluence/download/attachments/3000294302/2023-06-07_17h10_22-version-2-modificationdate-1686129301000-api-v2.png" width="150"  />
<img  class="confluence-embedded-image"  src="images/confluence/download/attachments/3000294302/2023-06-07_17h16_07-version-1-modificationdate-1686129380000-api-v2.png" alt="images/confluence/download/attachments/3000294302/2023-06-07_17h16_07-version-1-modificationdate-1686129380000-api-v2.png" width="150"  />
</p>
<p   
><br/></p>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="3012883315_V1.2.0.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>V1.2.0</span>
        </a>
                <a href="3019145947_lidar_calib_%E5%AF%B9%E8%BD%A6%E7%AB%AF%E6%A0%87%E5%AE%9A%E7%9A%84%E9%80%82%E9%85%8D.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span> Lidar Calib adapts to the car end calibration </span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>


    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
