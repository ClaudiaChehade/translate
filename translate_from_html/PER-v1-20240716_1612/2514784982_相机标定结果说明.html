<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> Camera calibration result description -Wave 3 Development </title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

    </head>

<body pageid="2458153956">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">wave3</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="2458153956_PER.html" class="ht-space-link">
                    <h2>wave 3 development</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=2514784982"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="2458153956_PER.html">wave 3 development</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="1741913013_Map_and_Loc.html">Map and Loc</a></li>
                                                                                                         <li class="shortcut"><a href="2453670978_03_Calibration.html">03_Calibration</a></li>
                                                                                                         <li class="shortcut"><a href="2515113871_09_Release.html">09 Release</a></li>
                                                                                                         <li class="shortcut"><a href="2515113873_xcalib_eng.html">xcalib_eng</a></li>
                                                                                     <li><a href="2916353596_calibration_tool_release.html">calibration_tool_release</a></li>
                                                            </ul>
</div>            <h1 id="src-2514784982"> <span> Camera calibration results description </span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

    <div class="section section-1" id="src-2514784982_safe-id-aWQt55u45py65qCH5a6a57uT5p6c6K-05piOLeWtmOWCqOi3r-W-hA">
        <h1 class="heading "><span> Storage path </span></h1>
<p   
> The calibration results of the current mining cars (7185C/8328C/9477C) and engineering vehicles (8626C/9884C/10162C) are all stored in: \\ \ \ <a  class="external-link" href="http://bosch.com">bosch.com</a>\dfsrb\DfsCN\DIV\XC\Engineering\domain\WAVE3\04_PER\05_maploc\00_dataset\data_format\dongshahu</p>
    </div>
    <div class="section section-1" id="src-2514784982_safe-id-aWQt55u45py65qCH5a6a57uT5p6c6K-05piOLei3r-W-hOe7k-aehA">
        <h1 class="heading "><span> Path structure </span></h1>
<p   
> Taking 9884C as an example, the documents related to the calibration results have been marked: </p>
<p   
>9884c</p>
<p   
> | - → 20220919 #calibration data collection date </p>
<p   
> | - → | - → Calibration #collection of calibration data </p>
<p   
> | - → | - → | - → IMAGE #Collected picture calibration data </p>
<p   
> | - → | - → | - → → PCD #| | | | | | </p>
<p   
> | - → | - → Evaluation #Outdoor verification data collected </p>
<p   
> | - → | - → | - → POS1 #The verification data of the first position </p>
<p   
> | - → | - → | - → POS2 #Verification data at the second position </p>
<p   
><strong class=" ">    <span style="color: #ff0000;"> | - → | - → xxtrinsic #calibration results </span>
</strong></p>
<p   
> | - → | - → | - → KB8 #Camera Internal Reference and External Reference </p>
<p   
> | - → | - → | - → Mei #Camera internal reference and External Reference </p>
<p   
> | - → | - → | - → OCAM #The camera internal parameters and external parameters represented by the OCAM model </p>
<p   
> | - → | - → | - → Pinhole #The camera internal and external parameters represented by the Pinhole model </p>
<p   
> | - → | - → | - → lidar_extrinsic.yaml # Laser's calibration results </p>
<p   
> | - → | - → | - → Body_extrinsic.yaml #| | | | The calibration result of projection coordinate system on the ground </p>
<p   
> | - → | - → bev #bev stitching parameters </p>
<p   
><br/></p>
    </div>
    <div class="section section-1" id="src-2514784982_safe-id-aWQt55u45py65qCH5a6a57uT5p6c6K-05piOLeS8oOaEn-WZqOWuieijheiuvuiuoeWbvg">
        <h1 class="heading "><span> Sensor installation design drawing </span></h1>
<p   
><img  class="confluence-embedded-image"  src="images/confluence/download/attachments/2514784982/9E2F6196-version-1-modificationdate-1669008688000-api-v2.PNG" alt="images/confluence/download/attachments/2514784982/9E2F6196-version-1-modificationdate-1669008688000-api-v2.PNG"  height="250" />
    </p>
<p   
><br/></p>
    </div>
    <div class="section section-1" id="src-2514784982_safe-id-aWQt55u45py65qCH5a6a57uT5p6c6K-05piOLeagh-WumuaWh-S7tuagvOW8j-S7i-e7jQ">
        <h1 class="heading "><span> Introduction to calibration file format </span></h1>
    <div class="section section-2" id="src-2514784982_safe-id-aWQt55u45py65qCH5a6a57uT5p6c6K-05piOLeWQjui9tA">
        <h2 class="heading "><span> Rear axle </span></h2>
<p   
> At each time, the rear axis position is basically fixed. </p>
<p   
> Among them, T_W_BODY is a calibration, the position of the RAR AXLE center in the setting of the setting of the ground in the calibration room </p>
    </div>
    <div class="section section-2" id="src-2514784982_safe-id-aWQt55u45py65qCH5a6a57uT5p6c6K-05piOLeebuOacug">
        <h2 class="heading "><span> camera </span></h2>
<p   
> The calibration results are provided in the form of Internet reference + External Reference. There are in the same Yaml file. When using an internal reference, use the External Reference of the Camera in the same file. </p>
    <div class="section section-3" id="src-2514784982_safe-id-aWQt55u45py65qCH5a6a57uT5p6c6K-05piOLeWGheWPgg">
        <h3 class="heading "><span> Internal reference </span></h3>
<p   
> Different Camera model calibration results are provided according to different types of each Camera </p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                                    <col />
                                    <col />
                                    <col />
                                    <col />
                                    <col />
                                    <col />
                                    <col />
                                    <col />
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
> Forever Vision wide -angle </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
> Front fishy </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
> Right fish eye </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
> Rear fish eye </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
> Left fish eye </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
> Forefocus </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
> Left before </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
> Right front week </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
> Left behind Zhou Shi </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
> Right back Zhou Shi </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
> rearview </p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>pinhole</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>ocam</p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>kb8</p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>mei</p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="highlight-#57d9a3 confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
><br/></p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p   
> Precautions: </p>
<ol class=" "><li class=" "><p   
> The empty lattice is not the labeled, but the effect is not good, so it is not marked by default. If the result of the empty grid is required, you need to contact the person to calibrate </p>
</li><li class=" "><p   
> Because of its large FOV, the front vision wide -angle is placed after the windshield, and the current treatment of windshield is not very complete. It is not recommended to use the PINHOLE model. </p>
</li></ol>    </div>
    <div class="section section-3" id="src-2514784982_safe-id-aWQt55u45py65qCH5a6a57uT5p6c6K-05piOLeWkluWPgg">
        <h3 class="heading "><span> External reference </span></h3>
<p   
> Provide T_W_C matrix, which represents the position of the Camera coordinate system under the coordinate system of the calibration room when calibration </p>
    </div>
    </div>
    <div class="section section-2" id="src-2514784982_safe-id-aWQt55u45py65qCH5a6a57uT5p6c6K-05piOLea_gOWFiQ">
        <h2 class="heading "><span> laser </span></h2>
    <div class="section section-3" id="src-2514784982_safe-id-aWQt55u45py65qCH5a6a57uT5p6c6K-05piOLeWkluWPgi4x">
        <h3 class="heading "><span> External reference </span></h3>
<p   
> Provide the T_W_L matrix, which represents the position of the laser coordinate system under the coordinate system of the calibration room when the calibration is calibrated. </p>
<p   
>T_w_l0: Ruby 360° lidar</p>
<p   
>T_w_l1: M1front lidar</p>
<p   
>T_w_l2: M1left lidar</p>
<p   
>T_w_l3: M1right lidar</p>
<p   
><br/></p>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-2514784982_safe-id-aWQt55u45py65qCH5a6a57uT5p6c6K-05piOLeaKleW9seWSjOWdkOagh-i9rOaNog">
        <h1 class="heading "><span> Projection and coordinates conversion </span></h1>
    <div class="section section-2" id="src-2514784982_safe-id-aWQt55u45py65qCH5a6a57uT5p6c6K-05piOLeS9jeWnv-i9rOaNouiEmuacrA">
        <h2 class="heading "><span> Siter conversion script </span></h2>
<p   
> Script Path: \\ <a  class="external-link" href="http://bosch.com">bosch.com</a>\dfsrb\DfsCN\DIV\XC\Engineering\domain\WAVE3\04_PER\05_maploc\00_dataset\data_format\dongshahu\tools\convert_extrinsic.py</p>
<p   
> If you need to obtain an external parameters between A and B ( <span style="color: #000000;"> A and b can be </span>
<strong class=" ">    <span style="color: #ff6600;">
 laser 、 camera 、 Rear axle     </span>
</strong> ), You can run the script in the following form </p>
<p   
>    <span style="color: #0000ff;">
<strong class=" ">python3 convert_extrinsic.py A_path B_path</strong>    </span>
</p>
<p   
> A_Path and B_Path are their respective calibration files. </p>
<p   
><img  class="confluence-embedded-image"  src="images/confluence/download/attachments/2514784982/2022-11-09_14h32_13-version-1-modificationdate-1669008688000-api-v2.png" alt="images/confluence/download/attachments/2514784982/2022-11-09_14h32_13-version-1-modificationdate-1669008688000-api-v2.png"  height="250" />
    </p>
    </div>
    <div class="section section-2" id="src-2514784982_safe-id-aWQt55u45py65qCH5a6a57uT5p6c6K-05piOLeaKleW9seWSjOS9jeWnv-i9rOaNouW6kw">
        <h2 class="heading "><span> Projection and position conversion library </span></h2>
<p   
> path:\\ <a  class="external-link" href="http://bosch.com">bosch.com</a>\dfsrb\DfsCN\DIV\XC\Engineering\domain\WAVE3\04_PER\05_maploc\00_dataset\data_format\dongshahu\tools\calibration_user_lib</p>
<ol class=" "><li class=" "><p   
> First compile Project and Coordinates Conversion library libcamera_models.so </p>
<ol class=" "><li class=" "><p   
>mkdir build</p>
</li><li class=" "><p   
>cd build</p>
</li><li class=" "><p   
>cmake ..</p>
</li><li class=" "><p   
>make -j4</p>
</li></ol></li><li class=" "><p   
> Combined with the header file Camera.h, the call method can refer </p>
</li></ol><p   
><img  class="confluence-embedded-image"  src="images/confluence/download/attachments/2514784982/2022-11-14_15h21_14-version-1-modificationdate-1669008688000-api-v2.png" alt="images/confluence/download/attachments/2514784982/2022-11-14_15h21_14-version-1-modificationdate-1669008688000-api-v2.png"  height="250" />
    </p>
<p   
> The complete API of all functions can refer to the index.html in the document </p>
<p   
><br/></p>
    </div>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="3024179381_%E6%A0%87%E5%AE%9A%E6%B5%81%E7%A8%8B_V2.0.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span> Calibration process v2.0 </span>
        </a>
                <a href="2924157606_calibration_TR.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>calibration TR</span>
        </a>
    </nav>    
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>


    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
